@{

	// View
	View = this;
	SetClientVar("login", LoginStatus);

	// Global Page Rendering event
	Page_Rendering();

	// Page Render event
	_Leads_Search.Page_Render();

	// Check action result
	if (_Leads_Search.ActionResult is EmptyResult) { // Terminate page
		return;
	}

	// Layout
	Layout = "_Layout";

	// Local variables (Temp data)
	#pragma warning disable 168
	string sqlWrk, filterWrk, whereWrk, curVal;
	List<Dictionary<string, object>> rswrk;
	string[] arWrk;
	List<object> listWrk;
	Func<string> lookupFilter;
	#pragma warning restore 168
}
<script>
@if (!DashboardReport) {
<text>
var f_Leadssearch, currentPageID;
loadjs.ready("head", function() {

	// Form object for search
	@if (_Leads_Search.IsModal) {
	@:f_Leadssearch = currentAdvancedSearchForm = new ew.Form("f_Leadssearch", "search");
	} else {
	@:f_Leadssearch = currentForm = new ew.Form("f_Leadssearch", "search");
	}
	currentPageID = ew.PAGE_ID = "search";

	// Validate function for search
	f_Leadssearch.validate = function(fobj) {
		if (!this.validateRequired)
			return true; // Ignore validation
		fobj = fobj || this._form;
		var infix = "";
		elm = this.getElements("x" + infix + "_UserId");
		if (elm && !ew.checkGuid(elm.value))
			return this.onError(elm, "@(JsEncode(_Leads_Search.UserId.ErrorMessage))");
		elm = this.getElements("x" + infix + "_PhoneNumber");
		if (elm && !ew.checkPhone(elm.value))
			return this.onError(elm, "@(JsEncode(_Leads_Search.PhoneNumber.ErrorMessage))");

		// Call Form_CustomValidate event
		if (!this.Form_CustomValidate(fobj))
			return false;
		return true;
	}

	// Form_CustomValidate
	f_Leadssearch.Form_CustomValidate = function(fobj) { // DO NOT CHANGE THIS LINE!

		// Your custom validation code here, return false if invalid.
		return true;
	}

	// Use JavaScript validation or not
	f_Leadssearch.validateRequired = @(Config.ClientValidate ? "true" : "false");

	// Dynamic selection lists
	f_Leadssearch.lists["x_LeadStatusId"] = @Html.Raw(_Leads_Search.LeadStatusId.Lookup.ToClientList(_Leads_Search));
	f_Leadssearch.lists["x_LeadStatusId"].options = @Html.Raw(ConvertToJson(_Leads_Search.LeadStatusId.LookupOptions));
	f_Leadssearch.lists["x_BranchId"] = @Html.Raw(_Leads_Search.BranchId.Lookup.ToClientList(_Leads_Search));
	f_Leadssearch.lists["x_BranchId"].options = @Html.Raw(ConvertToJson(_Leads_Search.BranchId.LookupOptions));
	loadjs.done("f_Leadssearch");
});
</text>
} @* !DashboardReport *@
</script>
<script>
loadjs.ready("head", function() {

	// Client script
	// Write your client script here, no need to add script tags.

});
</script>
@_Leads_Search.ShowPageHeader()
@_Leads_Search.ShowMessages()
<form name="f_Leadssearch" id="f_Leadssearch" class="@(_Leads_Search.FormClassName)" action="@AppPath(CurrentPageName())" method="post">
@if (_Leads_Search.CheckToken) {
	@Html.AntiForgeryToken()
}
<input type="hidden" name="action" id="action" value="search">
<input type="hidden" name="modal" value="@ConvertToInt(_Leads_Search.IsModal)">
<div class="ew-search-div"><!-- page* -->
@if (_Leads_Search.LeadId.Visible) { // _Leads_Search.LeadId.Visible (begin)
	<div id="r_LeadId" class="form-group row">
		<label class="@(_Leads_Search.LeftColumnClass)"><span id="elh__Leads_LeadId">@Html.Raw(_Leads_Search.LeadId.Caption)</span>
		<span class="ew-search-operator">
@Html.Raw(Language.Phrase("="))
<input type="hidden" name="z_LeadId" id="z_LeadId" value="=">
</span>
		</label>
		<div class="@(_Leads_Search.RightColumnClass)"><div @Html.Raw(_Leads_Search.LeadId.CellAttributes)>
			<span id="el__Leads_LeadId" class="ew-search-field">
<input type="text" data-table="_Leads" data-field="x_LeadId" name="x_LeadId" id="x_LeadId" size="38" maxlength="38" placeholder="@Html.Raw(HtmlEncode(_Leads_Search.LeadId.PlaceHolder))" value="@(_Leads_Search.LeadId.EditValue)" @Html.Raw(_Leads_Search.LeadId.EditAttributes)>
</span>
		</div></div>
	</div>
} @* _Leads_Search.LeadId.Visible (end) *@
@if (_Leads_Search._Name.Visible) { // _Leads_Search._Name.Visible (begin)
	<div id="r__Name" class="form-group row">
		<label for="x__Name" class="@(_Leads_Search.LeftColumnClass)"><span id="elh__Leads__Name">@Html.Raw(_Leads_Search._Name.Caption)</span>
		<span class="ew-search-operator">
@Html.Raw(Language.Phrase("LIKE"))
<input type="hidden" name="z__Name" id="z__Name" value="LIKE">
</span>
		</label>
		<div class="@(_Leads_Search.RightColumnClass)"><div @Html.Raw(_Leads_Search._Name.CellAttributes)>
			<span id="el__Leads__Name" class="ew-search-field">
<input type="text" data-table="_Leads" data-field="x__Name" name="x__Name" id="x__Name" size="30" maxlength="100" placeholder="@Html.Raw(HtmlEncode(_Leads_Search._Name.PlaceHolder))" value="@(_Leads_Search._Name.EditValue)" @Html.Raw(_Leads_Search._Name.EditAttributes)>
</span>
		</div></div>
	</div>
} @* _Leads_Search._Name.Visible (end) *@
@if (_Leads_Search.State.Visible) { // _Leads_Search.State.Visible (begin)
	<div id="r_State" class="form-group row">
		<label for="x_State" class="@(_Leads_Search.LeftColumnClass)"><span id="elh__Leads_State">@Html.Raw(_Leads_Search.State.Caption)</span>
		<span class="ew-search-operator">
@Html.Raw(Language.Phrase("LIKE"))
<input type="hidden" name="z_State" id="z_State" value="LIKE">
</span>
		</label>
		<div class="@(_Leads_Search.RightColumnClass)"><div @Html.Raw(_Leads_Search.State.CellAttributes)>
			<span id="el__Leads_State" class="ew-search-field">
<input type="text" data-table="_Leads" data-field="x_State" name="x_State" id="x_State" size="30" maxlength="100" placeholder="@Html.Raw(HtmlEncode(_Leads_Search.State.PlaceHolder))" value="@(_Leads_Search.State.EditValue)" @Html.Raw(_Leads_Search.State.EditAttributes)>
</span>
		</div></div>
	</div>
} @* _Leads_Search.State.Visible (end) *@
@if (_Leads_Search.LeadStatusId.Visible) { // _Leads_Search.LeadStatusId.Visible (begin)
	<div id="r_LeadStatusId" class="form-group row">
		<label for="x_LeadStatusId" class="@(_Leads_Search.LeftColumnClass)"><span id="elh__Leads_LeadStatusId">@Html.Raw(_Leads_Search.LeadStatusId.Caption)</span>
		<span class="ew-search-operator">
@Html.Raw(Language.Phrase("="))
<input type="hidden" name="z_LeadStatusId" id="z_LeadStatusId" value="=">
</span>
		</label>
		<div class="@(_Leads_Search.RightColumnClass)"><div @Html.Raw(_Leads_Search.LeadStatusId.CellAttributes)>
			<span id="el__Leads_LeadStatusId" class="ew-search-field">
<div class="input-group">
	<select class="custom-select ew-custom-select" data-table="_Leads" data-field="x_LeadStatusId" data-value-separator="@(_Leads_Search.LeadStatusId.DisplayValueSeparatorAttribute)" id="x_LeadStatusId" name="x_LeadStatusId" @Html.Raw(_Leads_Search.LeadStatusId.EditAttributes)>
			@(_Leads_Search.LeadStatusId.SelectOptionListHtml("x_LeadStatusId"))
		</select>
</div>
@Html.Raw(_Leads_Search.LeadStatusId.Lookup.GetParamTag(_Leads_Search, "p_x_LeadStatusId"))
</span>
		</div></div>
	</div>
} @* _Leads_Search.LeadStatusId.Visible (end) *@
@if (_Leads_Search.BranchId.Visible) { // _Leads_Search.BranchId.Visible (begin)
	<div id="r_BranchId" class="form-group row">
		<label for="x_BranchId" class="@(_Leads_Search.LeftColumnClass)"><span id="elh__Leads_BranchId">@Html.Raw(_Leads_Search.BranchId.Caption)</span>
		<span class="ew-search-operator">
@Html.Raw(Language.Phrase("="))
<input type="hidden" name="z_BranchId" id="z_BranchId" value="=">
</span>
		</label>
		<div class="@(_Leads_Search.RightColumnClass)"><div @Html.Raw(_Leads_Search.BranchId.CellAttributes)>
			<span id="el__Leads_BranchId" class="ew-search-field">
<div class="input-group">
	<select class="custom-select ew-custom-select" data-table="_Leads" data-field="x_BranchId" data-value-separator="@(_Leads_Search.BranchId.DisplayValueSeparatorAttribute)" id="x_BranchId" name="x_BranchId" @Html.Raw(_Leads_Search.BranchId.EditAttributes)>
			@(_Leads_Search.BranchId.SelectOptionListHtml("x_BranchId"))
		</select>
</div>
@Html.Raw(_Leads_Search.BranchId.Lookup.GetParamTag(_Leads_Search, "p_x_BranchId"))
</span>
		</div></div>
	</div>
} @* _Leads_Search.BranchId.Visible (end) *@
@if (_Leads_Search.UserId.Visible) { // _Leads_Search.UserId.Visible (begin)
	<div id="r_UserId" class="form-group row">
		<label for="x_UserId" class="@(_Leads_Search.LeftColumnClass)"><span id="elh__Leads_UserId">@Html.Raw(_Leads_Search.UserId.Caption)</span>
		<span class="ew-search-operator">
@Html.Raw(Language.Phrase("="))
<input type="hidden" name="z_UserId" id="z_UserId" value="=">
</span>
		</label>
		<div class="@(_Leads_Search.RightColumnClass)"><div @Html.Raw(_Leads_Search.UserId.CellAttributes)>
			<span id="el__Leads_UserId" class="ew-search-field">
<input type="text" data-table="_Leads" data-field="x_UserId" name="x_UserId" id="x_UserId" size="38" maxlength="38" placeholder="@Html.Raw(HtmlEncode(_Leads_Search.UserId.PlaceHolder))" value="@(_Leads_Search.UserId.EditValue)" @Html.Raw(_Leads_Search.UserId.EditAttributes)>
</span>
		</div></div>
	</div>
} @* _Leads_Search.UserId.Visible (end) *@
@if (_Leads_Search.FirstName.Visible) { // _Leads_Search.FirstName.Visible (begin)
	<div id="r_FirstName" class="form-group row">
		<label for="x_FirstName" class="@(_Leads_Search.LeftColumnClass)"><span id="elh__Leads_FirstName">@Html.Raw(_Leads_Search.FirstName.Caption)</span>
		<span class="ew-search-operator">
@Html.Raw(Language.Phrase("LIKE"))
<input type="hidden" name="z_FirstName" id="z_FirstName" value="LIKE">
</span>
		</label>
		<div class="@(_Leads_Search.RightColumnClass)"><div @Html.Raw(_Leads_Search.FirstName.CellAttributes)>
			<span id="el__Leads_FirstName" class="ew-search-field">
<input type="text" data-table="_Leads" data-field="x_FirstName" name="x_FirstName" id="x_FirstName" size="30" maxlength="50" placeholder="@Html.Raw(HtmlEncode(_Leads_Search.FirstName.PlaceHolder))" value="@(_Leads_Search.FirstName.EditValue)" @Html.Raw(_Leads_Search.FirstName.EditAttributes)>
</span>
		</div></div>
	</div>
} @* _Leads_Search.FirstName.Visible (end) *@
@if (_Leads_Search.LastName.Visible) { // _Leads_Search.LastName.Visible (begin)
	<div id="r_LastName" class="form-group row">
		<label for="x_LastName" class="@(_Leads_Search.LeftColumnClass)"><span id="elh__Leads_LastName">@Html.Raw(_Leads_Search.LastName.Caption)</span>
		<span class="ew-search-operator">
@Html.Raw(Language.Phrase("LIKE"))
<input type="hidden" name="z_LastName" id="z_LastName" value="LIKE">
</span>
		</label>
		<div class="@(_Leads_Search.RightColumnClass)"><div @Html.Raw(_Leads_Search.LastName.CellAttributes)>
			<span id="el__Leads_LastName" class="ew-search-field">
<input type="text" data-table="_Leads" data-field="x_LastName" name="x_LastName" id="x_LastName" size="30" maxlength="10" placeholder="@Html.Raw(HtmlEncode(_Leads_Search.LastName.PlaceHolder))" value="@(_Leads_Search.LastName.EditValue)" @Html.Raw(_Leads_Search.LastName.EditAttributes)>
</span>
		</div></div>
	</div>
} @* _Leads_Search.LastName.Visible (end) *@
@if (_Leads_Search.BlobUrl.Visible) { // _Leads_Search.BlobUrl.Visible (begin)
	<div id="r_BlobUrl" class="form-group row">
		<label for="x_BlobUrl" class="@(_Leads_Search.LeftColumnClass)"><span id="elh__Leads_BlobUrl">@Html.Raw(_Leads_Search.BlobUrl.Caption)</span>
		<span class="ew-search-operator">
@Html.Raw(Language.Phrase("LIKE"))
<input type="hidden" name="z_BlobUrl" id="z_BlobUrl" value="LIKE">
</span>
		</label>
		<div class="@(_Leads_Search.RightColumnClass)"><div @Html.Raw(_Leads_Search.BlobUrl.CellAttributes)>
			<span id="el__Leads_BlobUrl" class="ew-search-field">
<input type="text" data-table="_Leads" data-field="x_BlobUrl" name="x_BlobUrl" id="x_BlobUrl" size="30" maxlength="50" placeholder="@Html.Raw(HtmlEncode(_Leads_Search.BlobUrl.PlaceHolder))" value="@(_Leads_Search.BlobUrl.EditValue)" @Html.Raw(_Leads_Search.BlobUrl.EditAttributes)>
</span>
		</div></div>
	</div>
} @* _Leads_Search.BlobUrl.Visible (end) *@
@if (_Leads_Search.EmailAddress.Visible) { // _Leads_Search.EmailAddress.Visible (begin)
	<div id="r_EmailAddress" class="form-group row">
		<label for="x_EmailAddress" class="@(_Leads_Search.LeftColumnClass)"><span id="elh__Leads_EmailAddress">@Html.Raw(_Leads_Search.EmailAddress.Caption)</span>
		<span class="ew-search-operator">
@Html.Raw(Language.Phrase("LIKE"))
<input type="hidden" name="z_EmailAddress" id="z_EmailAddress" value="LIKE">
</span>
		</label>
		<div class="@(_Leads_Search.RightColumnClass)"><div @Html.Raw(_Leads_Search.EmailAddress.CellAttributes)>
			<span id="el__Leads_EmailAddress" class="ew-search-field">
<input type="text" data-table="_Leads" data-field="x_EmailAddress" name="x_EmailAddress" id="x_EmailAddress" size="30" maxlength="50" placeholder="@Html.Raw(HtmlEncode(_Leads_Search.EmailAddress.PlaceHolder))" value="@(_Leads_Search.EmailAddress.EditValue)" @Html.Raw(_Leads_Search.EmailAddress.EditAttributes)>
</span>
		</div></div>
	</div>
} @* _Leads_Search.EmailAddress.Visible (end) *@
@if (_Leads_Search.PhoneNumber.Visible) { // _Leads_Search.PhoneNumber.Visible (begin)
	<div id="r_PhoneNumber" class="form-group row">
		<label for="x_PhoneNumber" class="@(_Leads_Search.LeftColumnClass)"><span id="elh__Leads_PhoneNumber">@Html.Raw(_Leads_Search.PhoneNumber.Caption)</span>
		<span class="ew-search-operator">
@Html.Raw(Language.Phrase("LIKE"))
<input type="hidden" name="z_PhoneNumber" id="z_PhoneNumber" value="LIKE">
</span>
		</label>
		<div class="@(_Leads_Search.RightColumnClass)"><div @Html.Raw(_Leads_Search.PhoneNumber.CellAttributes)>
			<span id="el__Leads_PhoneNumber" class="ew-search-field">
<input type="text" data-table="_Leads" data-field="x_PhoneNumber" name="x_PhoneNumber" id="x_PhoneNumber" size="30" maxlength="10" placeholder="@Html.Raw(HtmlEncode(_Leads_Search.PhoneNumber.PlaceHolder))" value="@(_Leads_Search.PhoneNumber.EditValue)" @Html.Raw(_Leads_Search.PhoneNumber.EditAttributes)>
</span>
		</div></div>
	</div>
} @* _Leads_Search.PhoneNumber.Visible (end) *@
</div><!-- /page* -->
@if (!(_Leads_Search.IsModal)) {
	<div class="form-group row"><!-- buttons .form-group -->
		<div class="@(_Leads_Search.OffsetColumnClass)"><!-- buttons offset -->
	<button class="btn btn-primary ew-btn" name="btn-action" id="btn-action" type="submit">@Html.Raw(Language.Phrase("Search"))</button>
	<button class="btn btn-default ew-btn" name="btn-reset" id="btn-reset" type="button" onclick="ew.clearForm(this.form);">@Html.Raw(Language.Phrase("Reset"))</button>
		</div><!-- /buttons offset -->
	</div><!-- /buttons .form-group -->
}
</form>
@_Leads_Search.ShowPageFooter()
@ShowDebugMessage()
@ElapsedTime()
<script>
loadjs.ready("load", function() {

	// Startup script
	// Write your table-specific startup script here
	// document.write("page loaded");

});
</script>